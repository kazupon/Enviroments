init_paths () {
    export PATH=$HOME/bin:$PATH
    for i in /usr/local /opt/local; do
        local bin_path="$i/bin"
        if [ -d "$bin_path" ]; then
            export PATH=$bin_path:$PATH
        fi
        local sbin_path="$i/sbin"
        if [ -d "$sbin_path" ]; then
            export PATH=$sbin_path:$PATH
        fi
        local man_path="$i/man"
        if [ -d "$man_path" ]; then
            export MANPATH=$man_path:$MANPATH
        fi
        local share_man_path="$i/share/man"
        if [ -d "$share_man_path" ]; then
            export MANPATH=$share_man_path:$MANPATH
        fi
    done
}

init_dir_colors () {
    eval $(dircolors -b ~/.dir_colors 1>/dev/null 2>&1)
    clear
}

init_aliases () {
    # basic aliases
    alias grep='grep --color'
    alias egrep='egrep --color'
    alias base64=gbase64
    alias basename=gbasename
    alias cat=gcat
    alias chcon=gchcon
    alias chgrp=gchgrp
    alias chmod=gchmod
    alias chown=gchown
    alias chroot=gchroot
    alias cksum=gcksum
    alias comm=gcomm
    alias cp='gcp -a'
    alias csplit=gcsplit
    alias cut=gcut
    alias date=gdate
    alias dd=gdd
    alias df=gdf
    alias dir='gdir --color'
    alias dircolors=gdircolors
    alias dirname=gdirname
    alias du=gdu
    alias echo=gecho
    alias env=genv
    alias expand=gexpand
    alias expr=gexpr
    alias factor=gfactor
    alias false=gfalse
    alias fmt=gfmt
    alias fold=gfold
    alias groups=ggroups
    alias head=ghead
    alias hostid=ghostid
    alias id=gid
    alias install=ginstall
    alias join=gjoin
    alias kill=gkill
    alias link=glink
    alias ln=gln
    alias logname=glogname
    alias ls='gls --color'
    alias md5sum=gmd5sum
    alias mkdir=gmkdir
    alias mkfifo=gmkfifo
    alias mknod=gmknod
    alias mktemp=gmktemp
    alias mv=gmv
    alias nice=gnice
    alias nl=gnl
    alias nohup=gnohup
    alias od=god
    alias paste=gpaste
    alias pathchk=gpathchk
    alias pinky=gpinky
    alias pr=gpr
    alias printenv=gprintenv
    alias printf=gprintf
    alias ptx=gptx
    alias pwd=gpwd
    alias readlink=greadlink
    alias rm='grm'
    alias rmdir='grmdir'
    alias runcon=gruncon
    alias seq=gseq
    alias sha1sum=gsha1sum
    alias sha224sum=gsha224sum
    alias sha256sum=gsha256sum
    alias sha384sum=gsha384sum
    alias sha512sum=gsha512sum
    alias shred=gshred
    alias shuf=gshuf
    alias sleep=gsleep
    alias sort=gsort
    alias split=gsplit
    alias stat=gstat
    alias stty=gstty
    alias sum=gsum
    alias sync=gsync
    alias tac=gtac
    alias tail=gtail
    alias tee=gtee
    alias test=gtest
    alias timeout=gtimeout
    alias touch=gtouch
    alias tr=gtr
    alias true=gtrue
    alias truncate=gtruncate
    alias tsort=gtsort
    alias tty=gtty
    alias uname=guname
    alias unexpand=gunexpand
    alias uniq=guniq
    alias unlink=gunlink
    alias uptime=guptime
    alias users=gusers
    alias vdir=gvdir
    alias wc=gwc
    alias who=gwho
    alias whoami=gwhoami
    alias yes=gyes
    alias sed=gsed

    # my alias
    alias wget='wget --no-check-certificate'
    alias js=node
    #alias titanium='/Library/Application\ Support/Titanium/mobilesdk/osx/1.6.2/titanium.py'
}

init_env () {
    # init shell
    export LANG=ja_JP.UTF-8
    export DISPLAY=:0.0
    export HISTCONTROL=ignoreboth
    export __CF_USER_TEXT_ENCODING="0x1F5:0x08000100:14"

    # init editor
    #export EDITOR='mate -w'
    export EDITOR='vim -c "set fenc=utf-8"'

    # init libraries
    export LESSEDIT='vi %f'
    export LESS='-R'
    export LESSOPEN='| /opt/local/bin/src-hilite-lesspipe.sh %s'

    export PYTHONSTARTUP=~/.pythonstartup
    export GISTY_DIR=$HOME/tmp/gist
    export GISTY_SSL_CA=/opt/local/etc/openssl/cert.pem

    export LUA_CPATH="./?.dylib;/opt/local/lib/lua/5.1/?.dylib;/opt/local/lib/lua/5.1/loadall.dylib"
    export NODE_ENV=development

    export WORKON_HOME=$HOME/.virtualenvs
    export JSTESTDRIVER_HOME=$PATH
}

init_add_config () {
    for i in "$profiles/__config__"; do
        # Additional initialize scripts
        for f in "$i"/$1 "$i"/*.sh; do
            if [ -f "$f" ]; then
                source "$f"
            fi
        done
    done
}
